"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["sweb-openstreetmap.plugin"],{715:(e,a,n)=>{n.r(a),n.d(a,{default:()=>r});let{PluginBaseClass:t}=window;class r extends t{init(){let e=this.el.getAttribute("data-sweb-openstreetmap");this._displayMap(JSON.parse(e))}_displayMap(e){var a,n,t='\n            <font color="black">\n                <b>'.concat(e.name.value,"</b><br>\n                ").concat(e.street.value,"<br>\n                ").concat(e.city.value,'<br>\n                <img src="').concat(e.logo.value,'">\n            </font>\n        ');OpenLayers.Lang.setCode("de");var r=parseFloat(e.longitude.value),s=parseFloat(e.latitude.value),o=e.zoom.value;this.map=new OpenLayers.Map("map",{projection:new OpenLayers.Projection("EPSG:900913"),displayProjection:new OpenLayers.Projection("EPSG:4326"),controls:[new OpenLayers.Control.Navigation,new OpenLayers.Control.LayerSwitcher,new OpenLayers.Control.PanZoomBar],maxExtent:new OpenLayers.Bounds(-20037508.34,-20037508.34,20037508.34,20037508.34),numZoomLevels:18,maxResolution:156543,units:"meters"}),a=new OpenLayers.Layer.OSM.Mapnik("Mapnik"),n=new OpenLayers.Layer.Markers("Address",{projection:new OpenLayers.Projection("EPSG:4326"),visibility:!0,displayInLayerSwitcher:!1}),this.map.addLayers([a,n]),this._jumpTo(r,s,o),this._addMarker(n,r,s,t)}_jumpTo(e,a,n){var t=this._lon2Merc(e),r=this._lat2Merc(a);return this.map.setCenter(new OpenLayers.LonLat(t,r),n),!1}_lon2Merc(e){return 20037508.34*e/180}_lat2Merc(e){return 20037508.34*(e=Math.log(Math.tan((90+e)*3.141592653589793/360))/.017453292519943295)/180}_addMarker(e,a,n,t){var r=new OpenLayers.LonLat(this._lon2Merc(a),this._lat2Merc(n)),s=new OpenLayers.Feature(e,r);s.closeBox=!0,s.popupClass=OpenLayers.Class(OpenLayers.Popup.FramedCloud,{minSize:new OpenLayers.Size(300,180)}),s.data.popupContentHTML=t,s.data.overflow="hidden";var o=new OpenLayers.Marker(r);o.feature=s,o.events.register("mousedown",s,function(e){null==this.popup?(this.popup=this.createPopup(this.closeBox),this.map.addPopup(this.popup),this.popup.show()):this.popup.toggle(),OpenLayers.Event.stop(e)}),e.addMarker(o),this.map.addPopup(s.createPopup(s.closeBox))}}}}]);